function resizeIframe(){var e=$(window).height()-$("nav").height();$("iframe").css({height:e+"px",width:"100%"})}var MANAGETHIS={index:{init:function(){$.getJSON("./config.json",function(data){data.services.forEach(function(service){if(service.url){var selected=0===data.services.indexOf(service)?'class="selected"':"",tab="";tab+='<li><a data-content="'+service.name+'" '+selected+'href="#">',tab+='<span class="'+service.icons.nav+'"></span> '+service.name+"</a></li>",$(".cd-tabs-navigation").append($(tab)),$(".cd-tabs-content").append($('<li data-content="'+service.name+'" '+selected+"><iframe></iframe></li>"));var iframe=document.querySelector('li[data-content="'+service.name+'"] iframe'),html="";html+='<link rel="stylesheet" href="./css/vender.min.css">',html+='<link rel="stylesheet" href="./css/iframe.css">',html+='<div class="login"><div class="heading">',html+='<h2><span class="'+service.icons.landingpage+'"></span></h2>',html+='<form action="'+service.url+'">',html+='<button type="submit" onclick="location.href="'+service.url+'";" class="float">Launch</button>',html+="</form></div></div>",iframe.width="100%",iframe.height=$(window).height()-$("nav").height(),iframe.scrolling="auto",iframe.style="width:100%; height:1046px",iframe.contentWindow.document.open(),iframe.contentWindow.document.write(html),iframe.contentWindow.document.close()}else if(service.frameurl){var selected=0===data.services.indexOf(service)?'class="selected"':"",tab="";tab+='<li><a data-content="'+service.name+'" '+selected+'href="#">',tab+='<span class="'+service.icons.nav+'"></span> '+service.name+"</a></li>",$(".cd-tabs-navigation").append($(tab));var tab="";tab+='<li data-content="'+service.name+'" '+selected+'><iframe scrolling=auto src="'+service.frameurl+'" style="width:100%; height:1046px"></iframe></li>',$(".cd-tabs-content").append($(tab))}else if(service.dirurl){var selected=0===data.services.indexOf(service)?'class="selected"':"",tab="";tab+='<li><a href="#" onclick="window.open(\''+service.dirurl+"','_blank')\">",tab+='<span class="'+service.icons.nav+'"></span> '+service.name+"</a></li>",$(".cd-tabs-navigation").append($(tab))}else if(service.dropdownframe){var selected=0===data.services.indexOf(service)?'class="selected"':"",tab="";for(tab+='<li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">',tab+='<span class="'+service.icons.nav+'"></span> '+service.name+'<b class="caret"></b></a>',tab+='<ul class="dropdown-menu">',i=1;i<service.menuItemCount+1;i++)tab+='<li><a data-content="'+eval("service.menuItemContentName"+i),tab+='" href="#0"><span class="fa fa-square"></span> '+eval("service.menuItemName"+i)+"</a></li>";tab+="</ul></li>",$(".cd-tabs-navigation").append($(tab));var tab="";for(i=1;i<service.menuItemCount+1;i++)tab+='<li data-content="'+eval("service.menuItemContentName"+i)+'"><iframe scrolling=auto src="'+eval("service.menuItemFrameurl"+i),tab+='" style="width:100%; height:1046px"></iframe></li>';$(".cd-tabs-content").append($(tab))}else if(service.dropdowndir){var selected=0===data.services.indexOf(service)?'class="selected"':"",tab="";for(tab+='<li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">',tab+='<span class="'+service.icons.nav+'"></span> '+service.name+'<b class="caret"></b></a>',tab+='<ul class="dropdown-menu">',i=1;i<service.menuItemCount+1;i++)tab+='<li><a href="#" onclick="window.open(\''+eval("service.menuItemDirurl"+i)+"','_blank')\">",tab+='<span class="fa fa-square"></span> '+eval("service.menuItemName"+i)+"</a></li>";tab+="</ul></li>",$(".cd-tabs-navigation").append($(tab))}})})},common:function(){function e(e){var a=parseInt(e.children(".cd-tabs-navigation").width()),t=parseInt(e.width());e.scrollLeft()>=a-t?e.parent(".cd-tabs").addClass("is-ended"):e.parent(".cd-tabs").removeClass("is-ended")}var a=$(".cd-tabs");a.each(function(){var a=$(this),t=a.find("ul.cd-tabs-navigation"),i=a.children("ul.cd-tabs-content"),n=a.find("nav");t.on("click","a",function(e){e.preventDefault();var a=$(this);if(!a.hasClass("selected")){var n=a.data("content"),s=i.find('li[data-content="'+n+'"]'),c=s.innerHeight();a.dblclick(function(){s.children("iframe").attr("src",s.children("iframe").attr("src"))}),t.find("a.selected").removeClass("selected"),a.addClass("selected"),s.addClass("selected").siblings("li").removeClass("selected"),i.animate({height:c},200)}}),e(n),n.on("scroll",function(){e($(this))})}),$(window).on("resize",function(){a.each(function(){var a=$(this);e(a.find("nav")),a.find(".cd-tabs-content").css("height","auto")}),resizeIframe()})}}},UTIL={exec:function(e,a){var t=MANAGETHIS;a=void 0===a?"init":a,""!==e&&t[e]&&"function"==typeof t[e][a]&&t[e][a]()},init:function(){var e=document.body,a=e.getAttribute("data-controller"),t=e.getAttribute("data-action");UTIL.exec("common"),UTIL.exec(a),UTIL.exec(a,t)}};-1===navigator.userAgent.indexOf("PhantomJS")&&$(document).ready(UTIL.init);